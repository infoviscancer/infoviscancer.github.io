<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en">
<head>
<meta charset="utf-8">
<title>Stomach cancer gene visualization</title>
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css">
<link type="text/css" rel="stylesheet" href="stylesheets/stylesheet.css" />
<link type="text/css" rel="stylesheet" href="stylesheets/graph_style.css" />
<link type="text/css" rel="stylesheet" href="stylesheets/chromosome_style.css" />
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
<link rel="stylesheet" href="stylesheets/tree_style.css">
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="graph/graph_chromosome.js"></script>
<script src="js/gene_search.js"></script>
</head>

<body>
<div id="tooltip"></div>
<div id="toolbar" style="width:100%; display:block; position:relative; float:left;">
<div id="div_chromosome" style="width:100%; display:block; position:relative; float:left; text-align:center; margin-top:5px;">
  <div class="button_class" onClick="changeCsv('csv/chromosome/genes_rpkm_location_normal_1000.csv')">NORMAL 1000 AVG DESCENDANT</div>
  <div class="button_class" onClick="changeCsv('csv/chromosome/genes_rpkm_location_tumoral_1000.csv')">TUMORAL 1000 AVG DESCENDANT</div>
  <div class="button_class" onClick="changeCsv('csv/chromosome/genes_rpkm_location_normal.csv')">NORMAL FULL AVG DESCENDANT</div>
  <div class="button_class" onClick="changeCsv('csv/chromosome/genes_rpkm_location_tumoral.csv')">TUMORAL FULL AVG DESCENDANT</div>
</div>
<p style="width:auto; display:inline-block; position:relative; float:left; margin:20px 10px 0px 0px;">Chromosome: </p>
<div  style="width:auto; display:inline-block; position:relative; float:left; text-align:center; margin-top:5px; ">
  <div  id="div_chromosome" style="width:auto; display:block; position:relative; float:left; text-align:center; ">
    <div class="a_chr_class" id="chr1"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr1.csv');">1</div>
    <div href="" class="a_chr_class" id="chr2"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr2.csv');">2</div>
    <div href="" class="a_chr_class" id="chr3"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr3.csv');">3</div>
    <div href="" class="a_chr_class" id="chr4"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr4.csv');">4</div>
    <div href="" class="a_chr_class" id="chr5"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr5.csv');">5</div>
    <div href="" class="a_chr_class" id="chr6"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr6.csv');">6</div>
    <div href="" class="a_chr_class" id="chr7"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr7.csv');">7</div>
    <div href="" class="a_chr_class" id="chr8"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr8.csv');">8</div>
    <div href="" class="a_chr_class" id="chr9"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr9.csv');">9</div>
    <div href="" class="a_chr_class" id="chr10"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr10.csv');">10</div>
    <div href="" class="a_chr_class" id="chr11"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr11.csv');">11</div>
    <div href="" class="a_chr_class" id="chr12"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr12.csv');">12</div>
    <div href="" class="a_chr_class" id="chr13"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr13.csv');">13</div>
  </div><br/>
  <div  id="div_chromosome" style="width:auto; display:block; position:relative; float:left; text-align:center; margin-top:5px;">
    <div href="" class="a_chr_class" id="chr14"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr14.csv');">14</div>
    <div href="" class="a_chr_class" id="chr15"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr15.csv');">15</div>
    <div href="" class="a_chr_class" id="chr16"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr16.csv');">16</div>
    <div href="" class="a_chr_class" id="chr17"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr17.csv');">17</div>
    <div href="" class="a_chr_class" id="chr18"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr18.csv');">18</div>
    <div href="" class="a_chr_class" id="chr19"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr19.csv');">19</div>
    <div href="" class="a_chr_class" id="chr20"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr20.csv');">20</div>
    <div href="" class="a_chr_class" id="chr21"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr21.csv');">21</div>
    <div href="" class="a_chr_class" id="chr22"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chr22.csv');">22</div>
    <div href="" class="a_chr_class" id="chrX"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chrX.csv');">X</div>
    <div href="" class="a_chr_class" id="chrY"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_chrY.csv');">Y</div>
    <div href="" class="a_chr_class" id="nochr"  onClick="changeCsv('csv/chromosome/genes_rpkm_location_nochr.csv');">no chr</div>
  </div>
</div>
</div>
<div id="slider_zoom_horizontal" style="width:100%; display:block; position:relative; float:left; margin:10px 0px 10px 0px; text-align:center;">
<div style="float:left; margin:-10px 0px 0px 10px; font-size:20px; font-weight:bold; color:#999; ">-</div>
<div style="float:right; margin:-10px 10px 0px 0px; font-size:20px; font-weight:bold; color:#999; ">+</div>
</div>
<div id="slider_zoom_vertical" style="height:700px; display:inline-block; position:relative; float:left; margin:10px 0px 0px 10px; ">
<div style="margin:-10px 0px 0px 1px; font-size:20px; font-weight:bold; color:#999;">-</div>
<div style=" margin:650px 0px 0px -2px; font-size:20px; font-weight:bold; color:#999;">+</div>
</div>
</div>
<div id="wrapper" style="display:block; width:600px;"> </div>
<script>
	$("#slider_zoom_horizontal").slider({
	value: 100000,
	min: 10000,
	max: 200000,
	step: 10000,
	animate: true,
	slide: function(event, ui) {
		console.log(ui.value);
		width_chr = ui.value; //HEIGHT è una variabile di graph_slopegraph.sj	
		//setSliderZoomText(ui.value);
		clearChr();
	drawChr();			
	}
	});
	
	
	$("#slider_zoom_vertical").slider({
	value: 26000,
	min: 1,
	max: 26000,
	step: 10,
	animate: true,
	orientation: "vertical",
	slide: function(event, ui) {
		console.log(ui.value);
		domain_value = ui.value; //HEIGHT è una variabile di graph_slopegraph.sj	
		//setSliderZoomText(ui.value);
	clearChr();
	drawChr();			
	}
	});
	
	
function centra_horizontal(div){
	var DIVwidth = $(div).width();	
	var SCREENwidth = $(document).width();
	var SCREENscrollleft = $(window).scrollLeft();
	$(div).animate({   
		left: SCREENscrollleft+"px"
	},100,function(){
        centra_horizontal(div);
    });	 
}

function centra_vertical(div){
	var DIVwidth = $(div).width();	
	//var DIVheight = $(div).height();
	var SCREENwidth = $(document).width();
	//var SCREENheight = $(window).height();	
	//var SCREENscrolltop = $(window).scrollTop();
	var SCREENscrollleft = $(window).scrollLeft();
	$(div).animate({   
		//top: (SCREENheight-DIVheight)/2+SCREENscrolltop+"px",
		left: SCREENscrollleft+"px"
	},100,function(){
        centra_vertical(div);
    });	 
}

function changeCsv(csv) {
	clearChr();
	file_csv = csv;
	drawChr();	
	}
	
function change_color() {
	for(k=1; k<25; k++) {
		var a_id; 
		var cod;
		if(k == 23) {
			cod = 'X';
			a_id = 'chrX';
		} else if (k == 24) {
			cod = 'Y';
			a_id = 'chrY';
		} else {
			cod = k;
			a_id = 'chr'+k;
			}
		document.getElementById(a_id).style.backgroundColor = chromosome_color[cod];
	}
	//setto il button nochr
	document.getElementById('nochr').style.backgroundImage = 'url(images/bkg_nochr.png)';
	document.getElementById('nochr').style.width = '60px';
	document.getElementById('nochr').style.color = '#666666';

	}
	
centra_horizontal('#slider_zoom_horizontal');
centra_horizontal('#toolbar');
centra_vertical('#slider_zoom_vertical');

change_color();
drawChr();

	 </script>
</body>
</html>